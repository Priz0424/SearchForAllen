<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Skyscanner 外站票搜索</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: ui-sans-serif; }
    .clicked { color: #9ca3af; text-decoration: line-through; }
    table tbody tr:hover { background-color: #eef2ff; }
    .loading::after { content: '...'; animation: dots 1s steps(3, end) infinite; }
    @keyframes dots {
      0%, 20% { content: ''; }
      40% { content: '.'; }
      60% { content: '..'; }
      80%, 100% { content: '...'; }
    }
    .fade-in { animation: fadeIn 0.8s ease-in-out; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 to-white p-4">

<!-- 桌機版 -->
<div id="desktopVersion" class="hidden w-full max-w-6xl bg-white/90 backdrop-blur-md shadow-2xl rounded-3xl px-10 py-12 space-y-12">
  <h1 class="text-4xl font-extrabold text-center text-indigo-700 tracking-tight drop-shadow-sm">Skyscanner 外站票搜索</h1>
  <div class="grid md:grid-cols-2 items-start gap-y-10 gap-x-14">
    <div class="space-y-6">
      <div class="flex flex-col">
        <label class="font-semibold text-gray-700 mb-1">A 地區</label>
        <select id="areaSelect" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400">
          <option value="japan">日本</option><option value="southeast">東南亞</option><option value="hkmo">港澳</option>
        </select>
      </div>
      <div class="flex flex-col">
        <label class="font-semibold text-gray-700 mb-1">B 樞紐</label>
        <select id="hubSelect" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400">
          <option value="TPE">TPE (台北)</option><option value="KHH">KHH (高雄)</option>
        </select>
      </div>
      <div class="flex flex-col">
        <label class="font-semibold text-gray-700 mb-1">C 中間城市</label>
        <select id="midSelect" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400">
          <optgroup label="美西"><option value="SEA">SEA (西雅圖)</option><option value="SFO">SFO (舊金山)</option><option value="LAX">LAX (洛杉磯)</option></optgroup>
          <optgroup label="美東+中"><option value="JFK">JFK (紐約)</option><option value="EWR">EWR (紐瓦克)</option><option value="BOS">BOS (波士頓)</option><option value="ORD">ORD (芝加哥)</option></optgroup>
          <optgroup label="歐洲"><option value="LHR">LHR (倫敦)</option><option value="CDG">CDG (巴黎)</option><option value="AMS">AMS (阿姆斯特丹)</option><option value="VIE">VIE (維也納)</option><option value="FRA">FRA (法蘭克福)</option><option value="MUC">MUC (慕尼黑)</option><option value="ZRH">ZRH (蘇黎世)</option><option value="FCO">FCO (羅馬)</option><option value="MXP">MXP (米蘭)</option></optgroup>
          <optgroup label="紐澳"><option value="SYD">SYD (雪梨)</option><option value="AKL">AKL (奧克蘭)</option></optgroup>
        </select>
      </div>
    </div>
    <div class="space-y-6">
      <div class="flex flex-col"><label class="font-semibold text-gray-700 mb-1">日期 A→B</label><input id="d1" type="date" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400"></div>
      <div class="flex flex-col"><label class="font-semibold text-gray-700 mb-1">日期 B→C</label><input id="d2" type="date" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400"></div>
      <div class="flex flex-col"><label class="font-semibold text-gray-700 mb-1">日期 C→B</label><input id="d3" type="date" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400"></div>
      <div class="flex flex-col"><label class="font-semibold text-gray-700 mb-1">日期 B→A</label><input id="d4" type="date" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400"></div>
    </div>
  </div>

  <div class="flex justify-center gap-4">
    <button id="genBtn" class="px-8 py-3 rounded-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold shadow-lg transition">產生行程</button>
    <button id="clearBtn" class="px-8 py-3 rounded-full bg-gray-400 hover:bg-gray-500 text-white font-semibold shadow-lg transition">清空結果</button>
  </div>

  <div id="resultArea" class="space-y-12"></div>
</div>

<!-- 手機版 -->
<div id="mobileVersion" class="hidden w-full max-w-md bg-white/90 backdrop-blur-md shadow-2xl rounded-2xl px-6 py-8 space-y-8">
  <h1 class="text-3xl font-bold text-indigo-700 text-center">搜票小幫手</h1>
  <div class="flex flex-col gap-4">
    <select id="areaSelectM" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400">
      <option value="japan">日本</option><option value="southeast">東南亞</option><option value="hkmo">港澳</option>
    </select>
    <select id="hubSelectM" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400">
      <option value="TPE">TPE (台北)</option><option value="KHH">KHH (高雄)</option>
    </select>
    <select id="midSelectM" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400">
      <option value="SEA">西雅圖</option><option value="SFO">舊金山</option><option value="LAX">洛杉磯</option>
    </select>
    <input id="d1M" type="date" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400">
    <input id="d2M" type="date" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400">
    <input id="d3M" type="date" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400">
    <input id="d4M" type="date" class="rounded-lg border-gray-300 focus:ring-2 focus:ring-indigo-400">
  </div>
  <div class="flex justify-center">
    <button id="genBtnM" class="w-full py-3 rounded-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold shadow-lg">產生行程</button>
  </div>
</div>

<script>
function isMobile() {
  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
}

window.addEventListener('DOMContentLoaded', () => {
  if (isMobile()) {
    document.getElementById('mobileVersion').classList.remove('hidden');
  } else {
    document.getElementById('desktopVersion').classList.remove('hidden');
  }
});
</script>

</body>
</html>
